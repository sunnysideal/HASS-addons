# Default number of days of history to fetch (can be overridden per sensor)
history_days: 60

# Update interval in minutes (how often to retrain models)
update_interval: 60

# Default interval duration in minutes (can be overridden per sensor)
interval_duration: 30

# Default number of intervals to predict (can be overridden per sensor)
intervals_to_predict: 48

# Database settings (optional)
# Enable database storage to retain training data beyond HA history limits
database:
  enabled: false  # Set to true to enable database storage
  max_age: 730    # Maximum days to retain in database (default: 2 years)
  path: /config/neuralprophet.db  # Database file (stored in addon_configs folder)

# List of sensors to train and predict
sensors:
  # - training_entity_id: sensor.plum_econet300_weather_temp
  #   prediction_entity_id: sensor.weather_temp_prediction
  #   history_days: 730  # Override: use 2 years of data for this sensor
  #   interval_duration: 30  # 30-minute intervals
  #   intervals_to_predict: 48  # Predict 24 hours (48 * 30min)
  #   units: Â°C
  #   #regressors:  # Optional: additional sensors to use as predictors
  #   #  - sensor.outdoor_humidity
  #   #  - sensor.wind_speed
    
  # - training_entity_id: sensor.haos_sbfspot_sma_energy_lifetime
  #   prediction_entity_id: sensor.solar_power_prediction
  #   history_days: 720   # Use 2 years of solar data for seasonal patterns
  #   interval_duration: 30  # 30-minute intervals
  #   intervals_to_predict: 144  # Predict 72 hours (144 * 30min)
  #   units: "kWh"
  #   cumulative: true  # Set to true for energy meters that always increase
  #   regressors:

              
      # - entity_id: sensor.openweathermap_cloud_coverage
      #   type: sensor  # Regular sensor with history
      #   future_entity_id: weather.forecast_home
      #   future_entity_type: weather  # Use weather forecast attribute
      #   future_attribute: cloud_coverage  # Use forecast attribute for future values
      # - entity_id: sensor.openweathermap_uv_index
      #   type: sensor  # Regular sensor with history
      #   future_entity_id: weather.forecast_home
      #   future_entity_type: weather  # Use weather forecast attribute
      #   future_attribute: uv_index  # Use forecast attribute for future values
        

  - training_entity_id: sensor.haos_sbfspot_sma_energy_lifetime
    prediction_entity_id: sensor.solar_power_prediction_two
    history_days: 720   # Use 2 years of solar data for seasonal patterns
    interval_duration: 30  # 30-minute intervals
    intervals_to_predict: 144  # Predict 72 hours (144 * 30min)
    units: "kWh"
    cumulative: true  # Set to true for energy meters that always increase
    database: true  # Enable database storage for this sensor (overrides global setting)
    max_age: 1095  # Keep 3 years of data for this sensor (overrides global max_age)
    regressors:
#      - entity_id: sensor.gw1000a_pro_outdoor_temperature
#        type: sensor  # Regular sensor with history
#        future_entity_id: weather.forecast_home  # Weather entity for future values
#        future_entity_type: weather  # Use weather forecast attribute
#        future_attribute: temperature  # Attribute to use as future regressor
              

      - entity_id: sensor.openweathermap_uv_index
        type: sensor  # Regular sensor with history
        future_entity_id: weather.forecast_home
        future_entity_type: weather  # Use weather forecast attribute
        future_attribute: uv_index  # Use forecast attribute for future values
      - entity_id: sensor.openweathermap_cloud_coverage
        type: sensor  # Regular sensor with history
        future_entity_id: weather.forecast_home
        future_entity_type: weather  # Use weather forecast attribute
        future_attribute: cloud_coverage  # Use forecast attribute for future values
        

        
    
#  - training_entity_id: sensor.home_consumption
#    prediction_entity_id: sensor.home_consumption_forecast
#    # No history_days specified, will use default (60 days)
#    interval_duration: 30
#    intervals_to_predict: 48
#    units: "kWh"